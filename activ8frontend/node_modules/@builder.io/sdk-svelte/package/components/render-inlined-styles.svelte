<script context="module"></script>

<script>import { TARGET } from "../constants/target.js";
export let styles;
$: injectedStyleScript = () => {
    return `<${tag()}>${styles}</${tag()}>`;
};
$: tag = () => {
    // NOTE: we have to obfusctate the name of the tag due to a limitation in the svelte-preprocessor plugin.
    // https://github.com/sveltejs/vite-plugin-svelte/issues/315#issuecomment-1109000027
    return "sty" + "le";
};
</script>

{#if TARGET === "svelte" || TARGET === "qwik"}
  {@html injectedStyleScript()}
{:else}
  <svelte:element this={tag()}>{styles}</svelte:element>
{/if}